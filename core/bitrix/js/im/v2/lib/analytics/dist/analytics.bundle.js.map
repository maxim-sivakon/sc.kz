{"version":3,"file":"analytics.bundle.js","sources":["../src/const.js","../src/helpers/get-chat-type.js","../src/classes/history-limit.js","../src/helpers/get-category-by-chat-type.js","../src/analytics.js"],"sourcesContent":["export const CopilotChatType = Object.freeze({\n\tprivate: 'chatType_private',\n\tmultiuser: 'chatType_multiuser',\n});\n\nexport const AnalyticsEvent = Object.freeze({\n\topenMessenger: 'open_messenger',\n\topenChat: 'open_chat',\n\tcreateNewChat: 'create_new_chat',\n\taudioUse: 'audio_use',\n\topenTab: 'open_tab',\n\tpopupOpen: 'popup_open',\n\topenPrices: 'open_prices',\n\topenSettings: 'open_settings',\n\tclickCreateNew: 'click_create_new',\n\topenExisting: 'open_existing',\n\tview: 'view',\n\tclick: 'click',\n\tclickEdit: 'click_edit',\n\tsubmitEdit: 'submit_edit',\n});\n\nexport const AnalyticsTool = Object.freeze({\n\tai: 'ai',\n\tcheckin: 'checkin',\n\tim: 'im',\n\tinfoHelper: 'InfoHelper',\n});\n\nexport const AnalyticsCategory = Object.freeze({\n\tchatOperations: 'chat_operations',\n\tshift: 'shift',\n\tmessenger: 'messenger',\n\tchat: 'chat',\n\tchannel: 'channel',\n\tvideoconf: 'videoconf',\n\tcopilot: 'copilot',\n\tlimit: 'limit',\n\tlimitBanner: 'limit_banner',\n\ttoolOff: 'tool_off',\n});\n\nexport const AnalyticsType = Object.freeze({\n\tai: 'ai',\n\tchat: 'chat',\n\tchannel: 'channel',\n\tvideoconf: 'videoconf',\n\tcopilot: 'copilot',\n\tlimitOfficeChatingHistory: 'limit_office_chating_history',\n});\n\nexport const AnalyticsSection = Object.freeze({\n\tcopilotTab: 'copilot_tab',\n\tchat: 'chat',\n\tchatStart: 'chat_start',\n\tchatHistory: 'chat_history',\n\tsidebar: 'sidebar',\n\tchatWindow: 'chat_window',\n\tmessageLink: 'message_link',\n});\n\nexport const AnalyticsStatus = Object.freeze({\n\tsuccess: 'success',\n\terrorTurnedOff: 'error_turnedoff',\n});\n\nexport const AnalyticsSubSection = Object.freeze({\n\tcontextMenu: 'context_menu',\n});\n","import { ChatType } from 'im.v2.const';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nconst CUSTOM_CHAT_TYPE = 'custom';\n\nexport function getChatType(chat: ImModelChat): $Values<typeof ChatType>\n{\n\treturn ChatType[chat.type] ?? CUSTOM_CHAT_TYPE;\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { SidebarDetailBlock } from 'im.v2.const';\n\nimport { AnalyticsCategory, AnalyticsEvent, AnalyticsSection, AnalyticsTool, AnalyticsType } from '../const';\nimport { getChatType } from '../helpers/get-chat-type';\n\nexport class HistoryLimit\n{\n\tonDialogHistoryLimitExceeded({ dialogId, noMessages }: { dialogId: string, noMessages: boolean })\n\t{\n\t\tconst sectionValue = noMessages ? AnalyticsSection.chatStart : AnalyticsSection.chatHistory;\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst chatType = getChatType(dialog);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.limitBanner,\n\t\t\tevent: AnalyticsEvent.view,\n\t\t\ttype: AnalyticsType.limitOfficeChatingHistory,\n\t\t\tc_section: sectionValue,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t};\n\n\t\tsendData(params);\n\t}\n\n\tonSidebarHistoryLimitExceeded({ dialogId, panel }: { dialogId: string, panel: $Values<typeof SidebarDetailBlock> })\n\t{\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst chatType = getChatType(dialog);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.limitBanner,\n\t\t\tevent: AnalyticsEvent.view,\n\t\t\ttype: AnalyticsType.limitOfficeChatingHistory,\n\t\t\tc_section: AnalyticsSection.sidebar,\n\t\t\tc_element: this.#getSidebarPanelNameForAnalytics(panel),\n\t\t\tp1: `chatType_${chatType}`,\n\t\t};\n\n\t\tsendData(params);\n\t}\n\n\tonDialogHistoryLimitBannerClick({ dialogId }: {dialogId: string})\n\t{\n\t\tconst section = AnalyticsSection.chatWindow;\n\t\tthis.#onHistoryLimitBannerClick({ dialogId, section });\n\t}\n\n\tonSidebarHistoryLimitBannerClick({ dialogId, panel }: { dialogId: string, panel: $Values<typeof SidebarDetailBlock> })\n\t{\n\t\tconst section = AnalyticsSection.sidebar;\n\t\tconst element = this.#getSidebarPanelNameForAnalytics(panel);\n\t\tthis.#onHistoryLimitBannerClick({ dialogId, section, element });\n\t}\n\n\tonGoToContextHistoryLimitClick({ dialogId }: { dialogId: string })\n\t{\n\t\tconst section = AnalyticsSection.messageLink;\n\t\tthis.#onHistoryLimitBannerClick({ dialogId, section });\n\t}\n\n\t#onHistoryLimitBannerClick({ dialogId, section, element }: { dialogId: string, section: string, element?: string })\n\t{\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst chatType = getChatType(dialog);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.limitBanner,\n\t\t\tevent: AnalyticsEvent.click,\n\t\t\ttype: AnalyticsType.limitOfficeChatingHistory,\n\t\t\tc_section: section,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t};\n\n\t\tif (element)\n\t\t{\n\t\t\tparams.c_element = element;\n\t\t}\n\n\t\tsendData(params);\n\t}\n\n\t#getSidebarPanelNameForAnalytics(panel: $Values<typeof SidebarDetailBlock>): string\n\t{\n\t\tswitch (panel)\n\t\t{\n\t\t\tcase SidebarDetailBlock.main:\n\t\t\t\treturn 'main';\n\t\t\tcase SidebarDetailBlock.file:\n\t\t\tcase SidebarDetailBlock.fileUnsorted:\n\t\t\tcase SidebarDetailBlock.audio:\n\t\t\tcase SidebarDetailBlock.brief:\n\t\t\tcase SidebarDetailBlock.document:\n\t\t\tcase SidebarDetailBlock.media:\n\t\t\tcase SidebarDetailBlock.other:\n\t\t\t\treturn 'docs';\n\t\t\tcase SidebarDetailBlock.messageSearch:\n\t\t\t\treturn 'message_search';\n\t\t\tcase SidebarDetailBlock.favorite:\n\t\t\t\treturn 'favs';\n\t\t\tcase SidebarDetailBlock.link:\n\t\t\t\treturn 'links';\n\t\t\tcase SidebarDetailBlock.task:\n\t\t\t\treturn 'task';\n\t\t\tcase SidebarDetailBlock.meeting:\n\t\t\t\treturn 'event';\n\t\t\tdefault:\n\t\t\t\treturn 'unknown';\n\t\t}\n\t}\n}\n","import { ChatType } from 'im.v2.const';\n\nimport { AnalyticsCategory } from '../const';\n\nexport function getCategoryByChatType(type: $Values<typeof ChatType>): $Values<typeof AnalyticsCategory>\n{\n\tswitch (type)\n\t{\n\t\tcase ChatType.channel:\n\t\tcase ChatType.openChannel:\n\t\tcase ChatType.comment:\n\t\tcase ChatType.generalChannel:\n\t\t\treturn AnalyticsCategory.channel;\n\t\tcase ChatType.copilot:\n\t\t\treturn AnalyticsCategory.copilot;\n\t\tcase ChatType.videoconf:\n\t\t\treturn AnalyticsCategory.videoconf;\n\t\tdefault:\n\t\t\treturn AnalyticsCategory.chat;\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { ChatType, Layout, UserRole } from 'im.v2.const';\nimport { Core } from 'im.v2.application.core';\n\nimport { HistoryLimit } from './classes/history-limit';\nimport { getCategoryByChatType } from './helpers/get-category-by-chat-type';\nimport { getChatType } from './helpers/get-chat-type';\n\nimport {\n\tAnalyticsEvent,\n\tAnalyticsTool,\n\tAnalyticsCategory,\n\tAnalyticsType,\n\tAnalyticsSection,\n\tAnalyticsStatus,\n\tCopilotChatType,\n\tAnalyticsSubSection,\n} from './const';\n\nimport type { ImModelChat } from 'im.v2.model';\n\ntype DialogId = string;\n\nexport class Analytics\n{\n\t#excludedChats: Set<DialogId> = new Set();\n\t#currentTab: string = Layout.chat.name;\n\t#historyLimit: HistoryLimit = new HistoryLimit();\n\n\tstatic #instance: Analytics;\n\n\tstatic getInstance(): Analytics\n\t{\n\t\tif (!this.#instance)\n\t\t{\n\t\t\tthis.#instance = new this();\n\t\t}\n\n\t\treturn this.#instance;\n\t}\n\n\tonOpenMessenger()\n\t{\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.openMessenger,\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.messenger,\n\t\t});\n\t}\n\n\tonCreateCopilotChat({ chatId, dialogId })\n\t{\n\t\tthis.#excludedChats.add(dialogId);\n\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.createNewChat,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: AnalyticsSection.copilotTab,\n\t\t\ttype: AnalyticsType.ai,\n\t\t\tp3: CopilotChatType.private,\n\t\t\tp5: `chatId_${chatId}`,\n\t\t});\n\t}\n\n\tonOpenCopilotChat(dialogId: string)\n\t{\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst copilotChatType = dialog.userCounter <= 2 ? CopilotChatType.private : CopilotChatType.multiuser;\n\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.openChat,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: AnalyticsSection.copilotTab,\n\t\t\ttype: AnalyticsType.ai,\n\t\t\tp3: copilotChatType,\n\t\t\tp5: `chatId_${dialog.chatId}`,\n\t\t});\n\t}\n\n\tonOpenCopilotTab({ isAvailable = true } = {})\n\t{\n\t\tconst payload = {\n\t\t\tevent: AnalyticsEvent.openTab,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: AnalyticsSection.copilotTab,\n\t\t\tstatus: isAvailable ? AnalyticsStatus.success : AnalyticsStatus.errorTurnedOff,\n\t\t};\n\n\t\tsendData(payload);\n\t}\n\n\tonOpenTab(tabName: string)\n\t{\n\t\tconst existingTabs = [\n\t\t\tLayout.chat.name,\n\t\t\tLayout.copilot.name,\n\t\t\tLayout.channel.name,\n\t\t\tLayout.notification.name,\n\t\t\tLayout.settings.name,\n\t\t\tLayout.openlines.name,\n\t\t];\n\n\t\tif (!existingTabs.includes(tabName))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.#currentTab === tabName)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#currentTab = tabName;\n\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.openTab,\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.messenger,\n\t\t\ttype: tabName,\n\t\t});\n\t}\n\n\tonUseCopilotAudioInput()\n\t{\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.audioUse,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: AnalyticsSection.copilotTab,\n\t\t});\n\t}\n\n\tonOpenCheckInPopup()\n\t{\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.popupOpen,\n\t\t\ttool: AnalyticsTool.checkin,\n\t\t\tcategory: AnalyticsCategory.shift,\n\t\t\tc_section: AnalyticsSection.chat,\n\t\t});\n\t}\n\n\tonOpenPriceTable(featureId: string)\n\t{\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.infoHelper,\n\t\t\tcategory: AnalyticsCategory.limit,\n\t\t\tevent: AnalyticsEvent.openPrices,\n\t\t\ttype: featureId,\n\t\t\tc_section: AnalyticsSection.chat,\n\t\t});\n\t}\n\n\tonOpenToolsSettings(toolId: string)\n\t{\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.infoHelper,\n\t\t\tcategory: AnalyticsCategory.toolOff,\n\t\t\tevent: AnalyticsEvent.openSettings,\n\t\t\ttype: toolId,\n\t\t\tc_section: AnalyticsSection.chat,\n\t\t});\n\t}\n\n\tonStartCreateNewChat(type: $Values<typeof ChatType>)\n\t{\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(type),\n\t\t\tevent: AnalyticsEvent.clickCreateNew,\n\t\t\ttype,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t});\n\t}\n\n\tonCreateChat(dialogId: string)\n\t{\n\t\tthis.#excludedChats.add(dialogId);\n\t}\n\n\tonOpenChat(dialog: ImModelChat)\n\t{\n\t\tif (this.#excludedChats.has(dialog.dialogId))\n\t\t{\n\t\t\tthis.#excludedChats.delete(dialog.dialogId);\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst chatType = getChatType(dialog);\n\n\t\tif (chatType === ChatType.copilot)\n\t\t{\n\t\t\tthis.onOpenCopilotChat(dialog.dialogId);\n\t\t}\n\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\t\tconst isMember = dialog.role === UserRole.guest ? 'N' : 'Y';\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chatType),\n\t\t\tevent: AnalyticsEvent.openExisting,\n\t\t\ttype: chatType,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t\tp3: `isMember_${isMember}`,\n\t\t\tp5: `chatId_${dialog.chatId}`,\n\t\t};\n\n\t\tif (chatType === ChatType.comment)\n\t\t{\n\t\t\tconst parentChat = Core.getStore().getters['chats/getByChatId'](dialog.parentChatId);\n\t\t\tparams.p1 = `chatType_${parentChat.type}`;\n\t\t\tparams.p4 = `parentChatId_${dialog.parentChatId}`;\n\t\t}\n\n\t\tsendData(params);\n\t}\n\n\tonOpenChatEditForm(dialogId: string)\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickEdit,\n\t\t\tc_section: AnalyticsSection.sidebar,\n\t\t\tc_sub_section: AnalyticsSubSection.contextMenu,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t});\n\t}\n\n\tonSubmitChatEditForm(dialogId: string)\n\t{\n\t\tthis.#excludedChats.add(dialogId);\n\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.submitEdit,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t});\n\t}\n\n\tonCancelChatEditForm(dialogId: string)\n\t{\n\t\tthis.#excludedChats.add(dialogId);\n\t}\n\n\t// region History Limit Analytics\n\tonDialogHistoryLimitExceeded({ dialogId, noMessages }: { dialogId: DialogId, noMessages: boolean })\n\t{\n\t\tthis.#historyLimit.onDialogHistoryLimitExceeded({ dialogId, noMessages });\n\t}\n\n\tonDialogHistoryLimitBannerClick({ dialogId }: { dialogId: DialogId })\n\t{\n\t\tthis.#historyLimit.onDialogHistoryLimitBannerClick({ dialogId });\n\t}\n\n\tonSidebarHistoryLimitExceeded({ dialogId, panel })\n\t{\n\t\tthis.#historyLimit.onSidebarHistoryLimitExceeded({ dialogId, panel });\n\t}\n\n\tonSidebarHistoryLimitBannerClick({ dialogId, panel })\n\t{\n\t\tthis.#historyLimit.onSidebarHistoryLimitBannerClick({ dialogId, panel });\n\t}\n\n\tonGoToContextHistoryLimitClick({ dialogId }: { dialogId: DialogId })\n\t{\n\t\tthis.#historyLimit.onGoToContextHistoryLimitClick({ dialogId });\n\t}\n\t// endregion\n}\n"],"names":["CopilotChatType","Object","freeze","private","multiuser","AnalyticsEvent","openMessenger","openChat","createNewChat","audioUse","openTab","popupOpen","openPrices","openSettings","clickCreateNew","openExisting","view","click","clickEdit","submitEdit","AnalyticsTool","ai","checkin","im","infoHelper","AnalyticsCategory","chatOperations","shift","messenger","chat","channel","videoconf","copilot","limit","limitBanner","toolOff","AnalyticsType","limitOfficeChatingHistory","AnalyticsSection","copilotTab","chatStart","chatHistory","sidebar","chatWindow","messageLink","AnalyticsStatus","success","errorTurnedOff","AnalyticsSubSection","contextMenu","CUSTOM_CHAT_TYPE","getChatType","ChatType","type","HistoryLimit","onDialogHistoryLimitExceeded","dialogId","noMessages","sectionValue","dialog","Core","getStore","getters","chatType","params","tool","category","event","c_section","p1","sendData","onSidebarHistoryLimitExceeded","panel","c_element","onDialogHistoryLimitBannerClick","section","onSidebarHistoryLimitBannerClick","element","onGoToContextHistoryLimitClick","SidebarDetailBlock","main","file","fileUnsorted","audio","brief","document","media","other","messageSearch","favorite","link","task","meeting","getCategoryByChatType","openChannel","comment","generalChannel","Analytics","Set","Layout","name","getInstance","onOpenMessenger","onCreateCopilotChat","chatId","add","p3","p5","onOpenCopilotChat","copilotChatType","userCounter","onOpenCopilotTab","isAvailable","payload","status","onOpenTab","tabName","existingTabs","notification","settings","openlines","includes","onUseCopilotAudioInput","onOpenCheckInPopup","onOpenPriceTable","featureId","onOpenToolsSettings","toolId","onStartCreateNewChat","currentLayout","onCreateChat","onOpenChat","has","delete","isMember","role","UserRole","guest","parentChat","parentChatId","p4","onOpenChatEditForm","c_sub_section","onSubmitChatEditForm","onCancelChatEditForm"],"mappings":"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"}